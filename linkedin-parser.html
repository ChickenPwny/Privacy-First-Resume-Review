<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>LinkedIn Profile Parser - Privacy-First Resume Analysis</title>
    <link rel="stylesheet" href="styles.css">
    <link rel="stylesheet" href="accessibility.css">
    <script src="https://cdn.jsdelivr.net/npm/@tensorflow/tfjs@4.15.0/dist/tf.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/pdf.js/3.11.174/pdf.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/mammoth/1.6.0/mammoth.browser.min.js"></script>
</head>
<body>
    <!-- Accessibility Toolbar -->
    <div class="accessibility-toolbar" id="accessibilityToolbar">
        <div class="container">
            <h2 class="sr-only">Accessibility Options</h2>
            <div class="accessibility-controls">
                <div class="control-group">
                    <label for="fontSizeSlider" class="control-label">Font Size:</label>
                    <input type="range" id="fontSizeSlider" min="12" max="24" value="16" aria-label="Adjust font size">
                    <span id="fontSizeValue" aria-live="polite">16px</span>
                </div>
                <div class="control-group">
                    <label for="contrastToggle" class="control-label">High Contrast:</label>
                    <button id="contrastToggle" class="toggle-btn" aria-pressed="false" aria-label="Toggle high contrast mode">
                        <span class="toggle-text">Off</span>
                    </button>
                </div>
                <div class="control-group">
                    <label for="colorBlindToggle" class="control-label">Color Blind Friendly:</label>
                    <button id="colorBlindToggle" class="toggle-btn" aria-pressed="false" aria-label="Toggle color blind friendly mode">
                        <span class="toggle-text">Off</span>
                    </button>
                </div>
                <div class="control-group">
                    <label for="focusIndicator" class="control-label">Enhanced Focus:</label>
                    <button id="focusIndicator" class="toggle-btn" aria-pressed="false" aria-label="Toggle enhanced focus indicators">
                        <span class="toggle-text">Off</span>
                    </button>
                </div>
                <div class="control-group">
                    <button id="resetAccessibility" class="reset-btn" aria-label="Reset all accessibility settings to default">
                        Reset Settings
                    </button>
                </div>
            </div>
        </div>
    </div>

    <div class="container">
        <header>
            <nav class="main-nav">
                <a href="index.html" class="nav-link">üìÑ Resume Analyzer</a>
                <a href="linkedin-parser.html" class="nav-link active">üîó LinkedIn Parser</a>
            </nav>
            <h1>üîó LinkedIn Profile Parser</h1>
            <p>Analyze your LinkedIn profile as a resume. All processing happens locally in your browser.</p>
        </header>

        <main>
            <div class="linkedin-section">
                <h3>üîó LinkedIn Profile Analysis</h3>
                <div class="linkedin-input-section">
                    <div class="input-group">
                        <label for="linkedinUrl" class="input-label">LinkedIn Profile URL:</label>
                        <input type="url" id="linkedinUrl" placeholder="https://www.linkedin.com/in/your-profile" class="linkedin-input">
                        <div class="input-help">
                            <p>üìã <strong>Important:</strong> Make sure your LinkedIn profile is set to "Public" visibility for the parser to work properly.</p>
                            <p>üîí <strong>Privacy:</strong> Your profile data is processed entirely in your browser and never sent to any server.</p>
                        </div>
                    </div>
                    
                    <div class="privacy-check-section">
                        <h4>üîí Privacy Settings Check</h4>
                        <div class="privacy-instructions">
                            <p>Before parsing, ensure your LinkedIn profile is publicly visible:</p>
                            <ol>
                                <li>Go to your LinkedIn profile</li>
                                <li>Click the "More" button (three dots) on your profile</li>
                                <li>Select "View profile as" ‚Üí "Public"</li>
                                <li>Verify that your profile information is visible to the public</li>
                            </ol>
                            <div class="privacy-warning">
                                <strong>‚ö†Ô∏è Note:</strong> If your profile is private, the parser will not be able to extract your information.
                            </div>
                        </div>
                    </div>

                    <div class="parse-actions">
                        <button class="btn-primary" id="parseLinkedInBtn" disabled>
                            üîç Parse LinkedIn Profile
                        </button>
                        <button class="btn-secondary" id="testConnectionBtn">
                            üîó Test Connection
                        </button>
                    </div>
                </div>

                <div class="parsing-status" id="parsingStatus" style="display: none;">
                    <div class="status-indicator">
                        <div class="spinner"></div>
                        <p id="statusMessage">Connecting to LinkedIn profile...</p>
                    </div>
                </div>

                <div class="profile-preview" id="profilePreview" style="display: none;">
                    <h4>üìã Extracted Profile Information</h4>
                    <div class="profile-content" id="profileContent"></div>
                    <div class="profile-actions">
                        <button class="btn-primary" id="analyzeProfileBtn">üìä Analyze as Resume</button>
                        <button class="btn-secondary" id="editProfileBtn">‚úèÔ∏è Edit Profile Data</button>
                    </div>
                </div>
            </div>

            <div class="job-description-section" id="jobDescriptionSection" style="display: none;">
                <h3>Job Description (Optional)</h3>
                <textarea id="jobDescription" placeholder="Paste the job description here for targeted analysis..."></textarea>
            </div>

            <div class="analysis-section" id="analysisSection" style="display: none;">
                <div class="analyze-button-section">
                    <h3>üìä Ready to Analyze</h3>
                    <p>Your LinkedIn profile has been parsed successfully. Click the button below to analyze it with expert guidance.</p>
                    <button class="btn-primary" id="analyzeResumeBtn" style="font-size: 1.1rem; padding: 15px 30px;">
                        üîç Analyze LinkedIn Profile
                    </button>
                </div>
                <div class="loading" id="loadingIndicator">
                    <div class="spinner"></div>
                    <p>Analyzing your LinkedIn profile with expert cybersecurity guidance...</p>
                </div>

                <div class="results" id="resultsContainer" style="display: none;">
                    <div class="score-card">
                        <h3>Overall Score</h3>
                        <div class="score-circle">
                            <span id="overallScore">0</span>
                            <small>/100</small>
                        </div>
                    </div>

                    <div class="analysis-grid">
                        <div class="analysis-card">
                            <h4>üìù Content Quality</h4>
                            <div class="score-bar">
                                <div class="score-fill" id="contentScore"></div>
                            </div>
                            <p id="contentFeedback"></p>
                        </div>

                        <div class="analysis-card">
                            <h4>üéØ Keyword Match</h4>
                            <div class="score-bar">
                                <div class="score-fill" id="keywordScore"></div>
                            </div>
                            <p id="keywordFeedback"></p>
                        </div>

                        <div class="analysis-card">
                            <h4>üìã Structure & Format</h4>
                            <div class="score-bar">
                                <div class="score-fill" id="structureScore"></div>
                            </div>
                            <p id="structureFeedback"></p>
                        </div>

                        <div class="analysis-card">
                            <h4>üí™ Action Verbs</h4>
                            <div class="score-bar">
                                <div class="score-fill" id="actionScore"></div>
                            </div>
                            <p id="actionFeedback"></p>
                        </div>

                        <div class="analysis-card">
                            <h4>üéØ Strategic Positioning</h4>
                            <div class="score-bar">
                                <div class="score-fill" id="strategicScore"></div>
                            </div>
                            <p id="strategicFeedback"></p>
                        </div>

                        <div class="analysis-card">
                            <h4>üé§ Interview Readiness</h4>
                            <div class="score-bar">
                                <div class="score-fill" id="interviewScore"></div>
                            </div>
                            <p id="interviewFeedback"></p>
                        </div>

                        <div class="analysis-card">
                            <h4>üé≠ Tone & Perception</h4>
                            <div class="score-bar">
                                <div class="score-fill" id="gatekeepingScore"></div>
                            </div>
                            <p id="gatekeepingFeedback"></p>
                        </div>
                    </div>

                    <div class="suggestions">
                        <h3>üí° Detailed Recommendations</h3>
                        <ul id="suggestionsList"></ul>
                    </div>

                    <div class="line-issues-section">
                        <h3>üîç Line-by-Line Issues</h3>
                        <div id="lineIssuesList" class="line-issues"></div>
                    </div>

                    <div class="gatekeeping-section">
                        <h3>üé≠ Tone & Perception Analysis</h3>
                        <p style="color: #666; margin-bottom: 20px; font-style: italic;">
                            Identifies language that may unintentionally sound arrogant, dismissive, or off-putting to hiring managers
                        </p>
                        <div id="gatekeepingIssuesList" class="gatekeeping-issues"></div>
                    </div>

                    <div class="resume-preview-section">
                        <h3>üìÑ LinkedIn Profile Text Analyzed</h3>
                        <div class="resume-preview">
                            <pre id="resumePreviewText"></pre>
                        </div>
                    </div>

                    <div class="keywords-section">
                        <h3>üîç Keyword Analysis</h3>
                        <div class="keywords-grid">
                            <div class="keyword-category">
                                <h4>Found Keywords</h4>
                                <div id="foundKeywords"></div>
                            </div>
                            <div class="keyword-category">
                                <h4>Missing Keywords</h4>
                                <div id="missingKeywords"></div>
                            </div>
                        </div>
                    </div>

                    <div class="interview-questions">
                        <h3>‚ùì Potential Interview Questions</h3>
                        <p>Based on your LinkedIn profile content, be prepared to discuss:</p>
                        <ul id="interviewQuestionsList"></ul>
                    </div>

                    <div class="ai-generation-section">
                        <h3>ü§ñ AI-Powered Profile Enhancement</h3>
                        <div class="generation-options">
                            <button class="btn-primary" id="generateImprovedResume">Generate Improved Resume</button>
                            <button class="btn-secondary" id="generateCoverLetter">Generate Cover Letter</button>
                            <button class="btn-secondary" id="generateLinkedInSummary">Generate LinkedIn Summary</button>
                        </div>
                        
                        <div class="generated-content" id="generatedContent" style="display: none;">
                            <div class="content-header">
                                <h4 id="generatedContentTitle"></h4>
                                <div class="content-actions">
                                    <button class="btn-primary" id="copyGeneratedContent">Copy to Clipboard</button>
                                    <button class="btn-secondary" id="downloadGeneratedContent">Download</button>
                                </div>
                            </div>
                            <div class="content-body">
                                <pre id="generatedContentText"></pre>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </main>

        <footer>
            <p> <strong>Privacy Guarantee:</strong> Your LinkedIn profile data is processed entirely in your browser. No data is sent to any server.</p>
            <p><small>Analysis based on Lesley Carhart's expert guidance for cybersecurity professionals</small></p>
            <p><small>LinkedIn optimization tips courtesy of <a href="https://www.linkedin.com/in/cydneydavis/" target="_blank" rel="noopener noreferrer">Cydney Davis</a> - Professional LinkedIn strategist and career advisor</small></p>
            <p><small>Inspired by the cybersecurity community at <a href="https://infosec.exchange/deck/@mzbat" target="_blank" rel="noopener noreferrer">Infosec Exchange</a></small></p>
        </footer>
    </div>

    <script src="resume-analyzer.js"></script>
    <script src="template-manager.js"></script>
    <script src="ai-content-generator.js"></script>
    <script src="accessibility.js"></script>
    <script src="linkedin-parser.js"></script>
</body>
</html>
